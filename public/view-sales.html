<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>View Sales - ClassCart</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <link rel="stylesheet" href="css/profile.css" />

  <style>
    /* minimal page-specific tweaks (copied from transactions page) */
    .transactions-toolbar { display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom: 18px; }
    .transactions-left { display:flex; gap:12px; align-items:center; }
    .search-input { padding:8px 12px; border-radius:8px; border: none; min-width: 220px; background: #fff; color: #02304f; }
    .status-filter { padding:8px 12px; border-radius:8px; border: none; background: rgba(255,255,255,0.12); color: #fff; }
    .empty-box { background: rgba(255,255,255,0.04); border: 1px dashed rgba(255,255,255,0.06); padding: 28px; text-align: center; border-radius: 8px; color: #eaf4ff; }
    /* order card layout (same classes used by view-sales.js) */
    .orders-list { display:flex; flex-direction:column; gap:12px; margin-top:6px; }
    .order-card { display:flex; justify-content:space-between; gap:12px; padding:12px; background: rgba(255,255,255,0.02); border-radius:8px; align-items:center; }
    .order-left { display:flex; gap:12px; align-items:center; }
    .order-thumb { width:72px; height:72px; object-fit:cover; border-radius:8px; }
    .order-info { color:#eaf4ff; }
    .order-info div { margin-bottom:6px; }
    .order-meta { font-size:13px; color:rgba(234,244,255,0.8); }
    .order-actions { display:flex; gap:8px; align-items:center; }
    .btn { padding:8px 10px; border-radius:8px; font-weight:700; cursor:pointer; border:1px solid rgba(255,255,255,0.06); background:transparent; color:#eaf4ff; }
    .btn.primary { background:#7c3aed; border:none; color:#fff; }
    .btn.ghost { background:transparent; border:1px solid rgba(255,255,255,0.06); }
    .status-pill { padding:6px 10px; border-radius:999px; font-weight:700; font-size:13px; display:inline-block; }
    .status-completed { background: rgba(0,128,0,0.14); color: #bff0b8; border:1px solid rgba(0,128,0,0.12); }
    .status-pending { background: rgba(255,204,0,0.12); color: #ffecb8; border:1px solid rgba(255,204,0,0.08); }
  </style>
</head>
<body>
  <header>
    <div style="display:flex; align-items:center; gap:10px; cursor:pointer;" onclick="window.location.href='index.html'">
      <img src="images/cart.png" alt="logo" style="width:28px;height:28px;">
      <span>ClassCart</span>
    </div>
  </header>

  <div class="profileNavBar">
    <button class="backBtn" onclick="window.location.href='index.html'">←</button>
    <span class="nav-title">View Sales</span>
  </div>

  <main>
    <!-- Sidebar: reuse same markup as your other pages (copy/paste from transactions.html) -->
    <aside class="sidebar">
      <div class="profile-pic">
        <div class="avatar-wrapper">
          <img id="profile-avatar" src="images/userPic.jpg" alt="User avatar" />
          <button id="change-pic-btn" class="avatar-btn" title="Change profile picture"><i class="fa-solid fa-camera"></i></button>
        </div>
        <h3 id="profile-username">username</h3>
        <input id="profile-pic-input" type="file" accept="image/*" style="display:none" />
      </div>

      <div class="account-block">
        <div class="account-title">MY ACCOUNT</div>
        <ul class="account-links">
          <li><a href="profile.html"><span class="dot"></span>Profile</a></li>
          <li><a href="change-password.html"><span class="dot"></span>Change Password</a></li>
        </ul>
      </div>

      <div class="account-block">
        <div class="account-title">TRANSACTIONS</div>
        <ul class="account-links">
          <li><a href="transactions.html"><span class="dot"></span>Purchase History</a></li>
          <li><a href="view-sales.html" class="active-link"><span class="dot"></span>View Sales</a></li>
        </ul>
      </div>

      <div class="account-block">
        <div class="account-title">PAYMENT METHODS</div>
        <ul class="account-links">
          <li><a href="payment-methods.html"><span class="dot"></span>Payment Methods</a></li>
        </ul>
      </div>
    </aside>

    <section class="profile-section">
      <h2>View Sales</h2>
      <p class="subtitle">Items you've sold or are selling — manage meetups and confirmations here.</p>
      <div class="divider"></div>

      <div class="transactions-toolbar">
        <div class="transactions-left">
          <input type="text" id="searchInput" class="search-input" placeholder="Search buyer, item..." />
          <select id="statusFilter" class="status-filter" aria-label="Filter by status">
            <option value="">All statuses</option>
            <option value="completed">Completed</option>
            <option value="pending">Pending</option>
            <option value="cancelled">Cancelled</option>
          </select>
          <button id="exportCsvBtn" class="btn ghost"><i class="fa-solid fa-file-csv"></i>&nbsp;Export</button>
        </div>
        <div>
          <small id="summaryText" style="color:rgba(230,240,255,0.9);font-weight:600;"></small>
        </div>
      </div>

      <div id="loading" style="display:none;color:#dbe9ff;font-weight:700">Loading sales...</div>
      <div id="errorBox" style="display:none;color:#ffcc00;font-weight:700"></div>

      <div id="ordersContainer" class="table-wrap">
        <!-- sales cards injected here -->
      </div>

      <div class="pagination" id="pagination"></div>
    </section>
  </main>

  <script src="js/profile.js"></script>
  <script src="js/view-sales.js"></script>
</body>
</html>
